<!DOCTYPE HTML>
<html lang="it">
<head>
<!-- Generated by javadoc (19) on Wed Jun 28 14:52:02 CEST 2023 -->
<title>GameController</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="dc.created" content="2023-06-28">
<meta name="description" content="declaration: module: it.polimi.ingsw, package: it.polimi.ingsw.server.controller, class: GameController">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../../script-dir/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../../jquery-ui.overrides.css" title="Style">
<script type="text/javascript" src="../../../../../../script.js"></script>
<script type="text/javascript" src="../../../../../../script-dir/jquery-3.6.0.min.js"></script>
<script type="text/javascript" src="../../../../../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var pathtoroot = "../../../../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top"><button id="navbar-toggle-button" aria-controls="navbar-top" aria-expanded="false" aria-label="Toggle navigation links"><span class="nav-bar-toggle-icon">&nbsp;</span><span class="nav-bar-toggle-icon">&nbsp;</span><span class="nav-bar-toggle-icon">&nbsp;</span></button>
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../../../../module-summary.html">Module</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../../../help-doc.html#class">Help</a></li>
</ul>
<ul class="sub-nav-list-small">
<li>
<p>Summary:</p>
<ul>
<li>Nested</li>
<li><a href="#field-summary">Field</a></li>
<li><a href="#constructor-summary">Constr</a></li>
<li><a href="#method-summary">Method</a></li>
</ul>
</li>
<li>
<p>Detail:</p>
<ul>
<li><a href="#field-detail">Field</a></li>
<li><a href="#constructor-detail">Constr</a></li>
<li><a href="#method-detail">Method</a></li>
</ul>
</li>
</ul>
</div>
<div class="sub-nav">
<div id="navbar-sub-list">
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field-summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor-summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method-summary">Method</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li><a href="#field-detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor-detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method-detail">Method</a></li>
</ul>
</div>
<div class="nav-list-search"><a href="../../../../../../search.html">SEARCH</a>
<input type="text" id="search-input" disabled placeholder="Search">
<input type="reset" id="reset-button" disabled value="reset">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="flex-content">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="sub-title"><span class="module-label-in-type">Module</span>&nbsp;<a href="../../../../../module-summary.html">it.polimi.ingsw</a></div>
<div class="sub-title"><span class="package-label-in-type">Package</span>&nbsp;<a href="package-summary.html">it.polimi.ingsw.server.controller</a></div>
<h1 title="Class GameController" class="title">Class GameController</h1>
</div>
<div class="inheritance" title="Inheritance Tree"><a href="https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">java.lang.Object</a>
<div class="inheritance">it.polimi.ingsw.server.controller.GameController</div>
</div>
<section class="class-description" id="class-description">
<hr>
<div class="type-signature"><span class="modifiers">public class </span><span class="element-name type-name-label">GameController</span>
<span class="extends-implements">extends <a href="https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></span></div>
<div class="block">The GameController is the controller of the game: it keeps an instance of the game, interacting with it when messages are received
 and receiving notifications when some situations are met.</div>
<dl class="notes">
<dt>Author:</dt>
<dd>Luca Guffanti</dd>
</dl>
</section>
<section class="summary">
<ul class="summary-list">
<!-- =========== FIELD SUMMARY =========== -->
<li>
<section class="field-summary" id="field-summary">
<h2>Field Summary</h2>
<div class="caption"><span>Fields</span></div>
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Field</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color"><code>static final <a href="https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second even-row-color"><code><a href="#NAME" class="member-name-link">NAME</a></code></div>
<div class="col-last even-row-color">&nbsp;</div>
</div>
</section>
</li>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<li>
<section class="constructor-summary" id="constructor-summary">
<h2>Constructor Summary</h2>
<div class="caption"><span>Constructors</span></div>
<div class="summary-table two-column-summary">
<div class="table-header col-first">Constructor</div>
<div class="table-header col-last">Description</div>
<div class="col-constructor-name even-row-color"><code><a href="#%3Cinit%3E(it.polimi.ingsw.network.ServerNetworkHandler)" class="member-name-link">GameController</a><wbr>(<a href="../../network/ServerNetworkHandler.html" title="class in it.polimi.ingsw.network">ServerNetworkHandler</a>&nbsp;serverNetworkHandler)</code></div>
<div class="col-last even-row-color">
<div class="block">When a Game Controller is created, it gets passed a <a href="../../network/ServerNetworkHandler.html" title="class in it.polimi.ingsw.network"><code>ServerNetworkHandler</code></a>.</div>
</div>
<div class="col-constructor-name odd-row-color"><code><a href="#%3Cinit%3E(it.polimi.ingsw.network.ServerNetworkHandler,java.lang.String)" class="member-name-link">GameController</a><wbr>(<a href="../../network/ServerNetworkHandler.html" title="class in it.polimi.ingsw.network">ServerNetworkHandler</a>&nbsp;serverNetworkHandler,
 <a href="https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;alternativeSaveFilePath)</code></div>
<div class="col-last odd-row-color">&nbsp;</div>
</div>
</section>
</li>
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method-summary">
<h2>Method Summary</h2>
<div id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="method-summary-table-tab0" role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table', 3)" class="active-table-tab">All Methods</button><button id="method-summary-table-tab2" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab2', 3)" class="table-tab">Instance Methods</button><button id="method-summary-table-tab4" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab4', 3)" class="table-tab">Concrete Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel">
<div class="summary-table three-column-summary" aria-labelledby="method-summary-table-tab0">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Method</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#beginTurn()" class="member-name-link">beginTurn</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">If the game status is set on final turns and everyone has completed the same amount of turns,
 it will directly call endGame and not begin a new turn.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#createGame(java.lang.String,int,int)" class="member-name-link">createGame</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;adminName,
 int&nbsp;selectedPlayers,
 int&nbsp;gameId)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">This method executes all the operations necessary to instantiate a new game:
 
     The game is created with info about the host and the number of player
     The game status attribute is set to ACCEPTING_PLAYERS
 
 At the end of the execution of the method, the game is created but not yet initialized:
 the initialization occurs when the selected number of players is reached.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#endGame()" class="member-name-link">endGame</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">The final points are calculated and an <a href="../../network/messages/EndOfGameMessage.html" title="class in it.polimi.ingsw.network.messages"><code>EndOfGameMessage</code></a> is built and sent to every connected
 player.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#endTurn()" class="member-name-link">endTurn</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">This method is called by <a href="turn/PutInShelfPhase.html" title="class in it.polimi.ingsw.server.controller.turn"><code>PutInShelfPhase</code></a> and executes the operations
 related to the ending of a single turn:
 
     deletes the coordinates selection made by the active player
     
         calculates the turn wise points
         
             if the player completes any of the two common goals, the method updates
             the corresponding attributes in the state of the controller
             if the player completes the shelf, the method updates the corresponding
             attribute in the state of the controller and updates the game status
         
     
     if required, the board gets be refilled
     it builds the message describing the end of the turn
 </div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>int</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getActivePlayerIndex()" class="member-name-link">getActivePlayerIndex</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/ArrayList.html" title="class or interface in java.util" class="external-link">ArrayList</a>&lt;<a href="../model/cells/Coordinates.html" title="class in it.polimi.ingsw.server.model.cells">Coordinates</a>&gt;</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getChosenCoords()" class="member-name-link">getChosenCoords</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="../model/Game.html" title="class in it.polimi.ingsw.server.model">Game</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getGame()" class="member-name-link">getGame</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="GameStatusEnum.html" title="enum class in it.polimi.ingsw.server.controller">GameStatusEnum</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getGameStatus()" class="member-name-link">getGameStatus</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="../../network/ServerNetworkHandler.html" title="class in it.polimi.ingsw.network">ServerNetworkHandler</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getNetworkHandler()" class="member-name-link">getNetworkHandler</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/ArrayList.html" title="class or interface in java.util" class="external-link">ArrayList</a>&lt;<a href="https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getOrderedPlayersNicks()" class="member-name-link">getOrderedPlayersNicks</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="turn/TurnPhase.html" title="class in it.polimi.ingsw.server.controller.turn">TurnPhase</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getTurnPhase()" class="member-name-link">getTurnPhase</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#newGameNoReload()" class="member-name-link">newGameNoReload</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">
  The game is initialized (via <code>game.initGame()</code> in <a href="../model/Game.html" title="class in it.polimi.ingsw.server.model"><code>Game</code></a>)
  The list of players is shuffled and activeIndex is set to -1
  The status of the game is set to STARTED
  Every player is notified with a <a href="../../network/messages/GameStartMessage.html" title="class in it.polimi.ingsw.network.messages"><code>GameStartMessage</code></a>
 
   and, at last, <code>beginTurn()</code> is called (notice that activePlayerIndex is set to <b>-1</b> so
   that the called method can operate correctly)</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#onCommonGoalCompletion(int)" class="member-name-link">onCommonGoalCompletion</a><wbr>(int&nbsp;goalNumber)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">This method is called when, during the awarding of turn wise points, the
 completion of a <a href="../model/cards/goalCards/CommonGoalCard.html" title="class in it.polimi.ingsw.server.model.cards.goalCards"><code>CommonGoalCard</code></a> is registered.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#onGameMessageReceived(it.polimi.ingsw.network.messages.Message)" class="member-name-link">onGameMessageReceived</a><wbr>(<a href="../../network/messages/Message.html" title="class in it.polimi.ingsw.network.messages">Message</a>&nbsp;message)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">This method sends a message (whose type is <a href="../../network/messages/PickFromBoardMessage.html" title="class in it.polimi.ingsw.network.messages"><code>PickFromBoardMessage</code></a> or <a href="../../network/messages/SelectColumnMessage.html" title="class in it.polimi.ingsw.network.messages"><code>SelectColumnMessage</code></a>) to the
 phase.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#onPlayerDisconnection(java.lang.String)" class="member-name-link">onPlayerDisconnection</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;name)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">This method is called as the server realizes that a player has lost connection.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#onPlayerJoin(java.lang.String)" class="member-name-link">onPlayerJoin</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;nickname)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">This method manages the join of a new player.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#onShelfCompletion()" class="member-name-link">onShelfCompletion</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">This method is called when, during the calculation of the turn-wise points, a completed shelf is detected.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#reloadExistingGame()" class="member-name-link">reloadExistingGame</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">This method reloads an existing game, by correctly setting useful data in the controller (
 the ordered list of players and the index of the last playing player)</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#setChosenCoords(java.util.ArrayList)" class="member-name-link">setChosenCoords</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/ArrayList.html" title="class or interface in java.util" class="external-link">ArrayList</a>&lt;<a href="../model/cells/Coordinates.html" title="class in it.polimi.ingsw.server.model.cells">Coordinates</a>&gt;&nbsp;chosenCoords)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#setCompletedShelf(boolean)" class="member-name-link">setCompletedShelf</a><wbr>(boolean&nbsp;completedShelf)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#setFirstCommonGoalCompletedByActivePlayer(boolean)" class="member-name-link">setFirstCommonGoalCompletedByActivePlayer</a><wbr>(boolean&nbsp;firstCommonGoalCompletedByActivePlayer)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#setGameStatus(it.polimi.ingsw.server.controller.GameStatusEnum)" class="member-name-link">setGameStatus</a><wbr>(<a href="GameStatusEnum.html" title="enum class in it.polimi.ingsw.server.controller">GameStatusEnum</a>&nbsp;gameStatus)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#setSecondCommonGoalCompletedByActivePlayer(boolean)" class="member-name-link">setSecondCommonGoalCompletedByActivePlayer</a><wbr>(boolean&nbsp;secondCommonGoalCompletedByActivePlayer)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#setTurnPhase(it.polimi.ingsw.server.controller.turn.TurnPhase)" class="member-name-link">setTurnPhase</a><wbr>(<a href="turn/TurnPhase.html" title="class in it.polimi.ingsw.server.controller.turn">TurnPhase</a>&nbsp;turnPhase)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#startGame()" class="member-name-link">startGame</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">This method is called when the selected number of logged in players is reached.</div>
</div>
</div>
</div>
</div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-java.lang.Object">Methods inherited from class&nbsp;java.lang.<a href="https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></h3>
<code><a href="https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/lang/Object.html#clone()" title="class or interface in java.lang" class="external-link">clone</a>, <a href="https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/lang/Object.html#equals(java.lang.Object)" title="class or interface in java.lang" class="external-link">equals</a>, <a href="https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/lang/Object.html#finalize()" title="class or interface in java.lang" class="external-link">finalize</a>, <a href="https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/lang/Object.html#getClass()" title="class or interface in java.lang" class="external-link">getClass</a>, <a href="https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/lang/Object.html#hashCode()" title="class or interface in java.lang" class="external-link">hashCode</a>, <a href="https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/lang/Object.html#notify()" title="class or interface in java.lang" class="external-link">notify</a>, <a href="https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/lang/Object.html#notifyAll()" title="class or interface in java.lang" class="external-link">notifyAll</a>, <a href="https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/lang/Object.html#toString()" title="class or interface in java.lang" class="external-link">toString</a>, <a href="https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/lang/Object.html#wait()" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/lang/Object.html#wait(long)" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/lang/Object.html#wait(long,int)" title="class or interface in java.lang" class="external-link">wait</a></code></div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ============ FIELD DETAIL =========== -->
<li>
<section class="field-details" id="field-detail">
<h2>Field Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="NAME">
<h3>NAME</h3>
<div class="member-signature"><span class="modifiers">public static final</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">NAME</span></div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="see-list">
<li><a href="../../../../../../constant-values.html#it.polimi.ingsw.server.controller.GameController.NAME">Constant Field Values</a></li>
</ul>
</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<li>
<section class="constructor-details" id="constructor-detail">
<h2>Constructor Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="&lt;init&gt;(it.polimi.ingsw.network.ServerNetworkHandler)">
<h3>GameController</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="element-name">GameController</span><wbr><span class="parameters">(<a href="../../network/ServerNetworkHandler.html" title="class in it.polimi.ingsw.network">ServerNetworkHandler</a>&nbsp;serverNetworkHandler)</span></div>
<div class="block">When a Game Controller is created, it gets passed a <a href="../../network/ServerNetworkHandler.html" title="class in it.polimi.ingsw.network"><code>ServerNetworkHandler</code></a>.
 The game controller is created</div>
</section>
</li>
<li>
<section class="detail" id="&lt;init&gt;(it.polimi.ingsw.network.ServerNetworkHandler,java.lang.String)">
<h3>GameController</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="element-name">GameController</span><wbr><span class="parameters">(<a href="../../network/ServerNetworkHandler.html" title="class in it.polimi.ingsw.network">ServerNetworkHandler</a>&nbsp;serverNetworkHandler,
 <a href="https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;alternativeSaveFilePath)</span></div>
</section>
</li>
</ul>
</section>
</li>
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method-detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="onPlayerJoin(java.lang.String)">
<h3>onPlayerJoin</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">onPlayerJoin</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;nickname)</span></div>
<div class="block">This method manages the join of a new player. A player's request to join a game can
 result in two possible outcomes
 <ol>
     <li>The game is not full and the player is granted access with a notification</li>
     <li>The game is full and the game prohibits the access of the player, who is notified. The newly logged
     in player receives a list of the already joined players, and already logged in players receive
     a message containing the new player nickname</li>
 </ol></div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>nickname</code> - the nickname of the player that is trying to join</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="createGame(java.lang.String,int,int)">
<h3>createGame</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">createGame</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;adminName,
 int&nbsp;selectedPlayers,
 int&nbsp;gameId)</span></div>
<div class="block">This method executes all the operations necessary to instantiate a new game:
 <ol>
     <li>The game is created with info about the host and the number of player</li>
     <li>The game status attribute is set to ACCEPTING_PLAYERS</li>
 </ol>
 At the end of the execution of the method, the game is created but not yet initialized:
 the initialization occurs when the selected number of players is reached.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>adminName</code> - the name of the player who's creating the game</dd>
<dd><code>selectedPlayers</code> - the number of players selected by the admin</dd>
<dd><code>gameId</code> - the id of the game assigned by the system</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="startGame()">
<h3>startGame</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">startGame</span>()</div>
<div class="block">This method is called when the selected number of logged in players is reached. <br>
     If a saved game already exists with the same number of players, with all the players having the same
     nickname as the players from the previously saved game, the admin has to decide whether he wants
     to reload the previously ended game.</div>
</section>
</li>
<li>
<section class="detail" id="reloadExistingGame()">
<h3>reloadExistingGame</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">reloadExistingGame</span>()</div>
<div class="block">This method reloads an existing game, by correctly setting useful data in the controller (
 the ordered list of players and the index of the last playing player)</div>
</section>
</li>
<li>
<section class="detail" id="newGameNoReload()">
<h3>newGameNoReload</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">newGameNoReload</span>()</div>
<div class="block"><ol>
  <li>The game is initialized (via <code>game.initGame()</code> in <a href="../model/Game.html" title="class in it.polimi.ingsw.server.model"><code>Game</code></a>)</li>
  <li>The list of players is shuffled and activeIndex is set to -1</li>
  <li>The status of the game is set to STARTED</li>
  <li>Every player is notified with a <a href="../../network/messages/GameStartMessage.html" title="class in it.polimi.ingsw.network.messages"><code>GameStartMessage</code></a></li>
 </ol>
   and, at last, <code>beginTurn()</code> is called (notice that activePlayerIndex is set to <b>-1</b> so
   that the called method can operate correctly)</div>
</section>
</li>
<li>
<section class="detail" id="beginTurn()">
<h3>beginTurn</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">beginTurn</span>()</div>
<div class="block">If the game status is set on final turns and everyone has completed the same amount of turns,
 it will directly call endGame and not begin a new turn.

 Otherwise, this method advances the index referring to the active player (it skips a player if the player is
 disconnected), produces the
 message describing the beginning of a new turn that will be broadcast to every player and
 sets the turn phase to <a href="turn/PickFromBoardPhase.html" title="class in it.polimi.ingsw.server.controller.turn"><code>PickFromBoardPhase</code></a>, starting to accept game messages from the players.</div>
</section>
</li>
<li>
<section class="detail" id="endTurn()">
<h3>endTurn</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">endTurn</span>()</div>
<div class="block">This method is called by <a href="turn/PutInShelfPhase.html" title="class in it.polimi.ingsw.server.controller.turn"><code>PutInShelfPhase</code></a> and executes the operations
 related to the ending of a single turn:
 <ol>
     <li>deletes the coordinates selection made by the active player</li>
     <li>
         calculates the turn wise points
         <ol>
             <li>if the player completes any of the two common goals, the method updates
             the corresponding attributes in the state of the controller</li>
             <li>if the player completes the shelf, the method updates the corresponding
             attribute in the state of the controller and updates the game status</li>
         </ol>
     </li>
     <li>if required, the board gets be refilled</li>
     <li>it builds the message describing the end of the turn
 </ol></div>
</section>
</li>
<li>
<section class="detail" id="endGame()">
<h3>endGame</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">endGame</span>()</div>
<div class="block">The final points are calculated and an <a href="../../network/messages/EndOfGameMessage.html" title="class in it.polimi.ingsw.network.messages"><code>EndOfGameMessage</code></a> is built and sent to every connected
 player.</div>
</section>
</li>
<li>
<section class="detail" id="onPlayerDisconnection(java.lang.String)">
<h3>onPlayerDisconnection</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">onPlayerDisconnection</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;name)</span></div>
<div class="block">This method is called as the server realizes that a player has lost connection.
 If the disconnected player is the player that's should be active during the turn, the turn is instantly
 ended without calculating the points, and the next turn starts.</div>
</section>
</li>
<li>
<section class="detail" id="onCommonGoalCompletion(int)">
<h3>onCommonGoalCompletion</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">onCommonGoalCompletion</span><wbr><span class="parameters">(int&nbsp;goalNumber)</span></div>
<div class="block">This method is called when, during the awarding of turn wise points, the
 completion of a <a href="../model/cards/goalCards/CommonGoalCard.html" title="class in it.polimi.ingsw.server.model.cards.goalCards"><code>CommonGoalCard</code></a> is registered.
 <p>
 Based on goalNumber, the corresponding attribute is set as true.
 The attribute is used later when the message summing up the turn is
 built</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>goalNumber</code> - either 1 or 2, is the ordinal number of the completed goal card</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="onShelfCompletion()">
<h3>onShelfCompletion</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">onShelfCompletion</span>()</div>
<div class="block">This method is called when, during the calculation of the turn-wise points, a completed shelf is detected.
  As a shelf is completed the game enters its last stage, FINAL_TURNS, and the corresponding attribute is set as
  true.</div>
</section>
</li>
<li>
<section class="detail" id="onGameMessageReceived(it.polimi.ingsw.network.messages.Message)">
<h3>onGameMessageReceived</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">onGameMessageReceived</span><wbr><span class="parameters">(<a href="../../network/messages/Message.html" title="class in it.polimi.ingsw.network.messages">Message</a>&nbsp;message)</span></div>
<div class="block">This method sends a message (whose type is <a href="../../network/messages/PickFromBoardMessage.html" title="class in it.polimi.ingsw.network.messages"><code>PickFromBoardMessage</code></a> or <a href="../../network/messages/SelectColumnMessage.html" title="class in it.polimi.ingsw.network.messages"><code>SelectColumnMessage</code></a>) to the
 phase.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>message</code> - the message submitted by the network networkHandler</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getGame()">
<h3>getGame</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="../model/Game.html" title="class in it.polimi.ingsw.server.model">Game</a></span>&nbsp;<span class="element-name">getGame</span>()</div>
</section>
</li>
<li>
<section class="detail" id="getTurnPhase()">
<h3>getTurnPhase</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="turn/TurnPhase.html" title="class in it.polimi.ingsw.server.controller.turn">TurnPhase</a></span>&nbsp;<span class="element-name">getTurnPhase</span>()</div>
</section>
</li>
<li>
<section class="detail" id="setTurnPhase(it.polimi.ingsw.server.controller.turn.TurnPhase)">
<h3>setTurnPhase</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">setTurnPhase</span><wbr><span class="parameters">(<a href="turn/TurnPhase.html" title="class in it.polimi.ingsw.server.controller.turn">TurnPhase</a>&nbsp;turnPhase)</span></div>
</section>
</li>
<li>
<section class="detail" id="getOrderedPlayersNicks()">
<h3>getOrderedPlayersNicks</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/ArrayList.html" title="class or interface in java.util" class="external-link">ArrayList</a>&lt;<a href="https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;</span>&nbsp;<span class="element-name">getOrderedPlayersNicks</span>()</div>
</section>
</li>
<li>
<section class="detail" id="getActivePlayerIndex()">
<h3>getActivePlayerIndex</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">getActivePlayerIndex</span>()</div>
</section>
</li>
<li>
<section class="detail" id="getGameStatus()">
<h3>getGameStatus</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="GameStatusEnum.html" title="enum class in it.polimi.ingsw.server.controller">GameStatusEnum</a></span>&nbsp;<span class="element-name">getGameStatus</span>()</div>
</section>
</li>
<li>
<section class="detail" id="setGameStatus(it.polimi.ingsw.server.controller.GameStatusEnum)">
<h3>setGameStatus</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">setGameStatus</span><wbr><span class="parameters">(<a href="GameStatusEnum.html" title="enum class in it.polimi.ingsw.server.controller">GameStatusEnum</a>&nbsp;gameStatus)</span></div>
</section>
</li>
<li>
<section class="detail" id="setChosenCoords(java.util.ArrayList)">
<h3>setChosenCoords</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">setChosenCoords</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/ArrayList.html" title="class or interface in java.util" class="external-link">ArrayList</a>&lt;<a href="../model/cells/Coordinates.html" title="class in it.polimi.ingsw.server.model.cells">Coordinates</a>&gt;&nbsp;chosenCoords)</span></div>
</section>
</li>
<li>
<section class="detail" id="getChosenCoords()">
<h3>getChosenCoords</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/ArrayList.html" title="class or interface in java.util" class="external-link">ArrayList</a>&lt;<a href="../model/cells/Coordinates.html" title="class in it.polimi.ingsw.server.model.cells">Coordinates</a>&gt;</span>&nbsp;<span class="element-name">getChosenCoords</span>()</div>
</section>
</li>
<li>
<section class="detail" id="getNetworkHandler()">
<h3>getNetworkHandler</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="../../network/ServerNetworkHandler.html" title="class in it.polimi.ingsw.network">ServerNetworkHandler</a></span>&nbsp;<span class="element-name">getNetworkHandler</span>()</div>
</section>
</li>
<li>
<section class="detail" id="setCompletedShelf(boolean)">
<h3>setCompletedShelf</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">setCompletedShelf</span><wbr><span class="parameters">(boolean&nbsp;completedShelf)</span></div>
</section>
</li>
<li>
<section class="detail" id="setFirstCommonGoalCompletedByActivePlayer(boolean)">
<h3>setFirstCommonGoalCompletedByActivePlayer</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">setFirstCommonGoalCompletedByActivePlayer</span><wbr><span class="parameters">(boolean&nbsp;firstCommonGoalCompletedByActivePlayer)</span></div>
</section>
</li>
<li>
<section class="detail" id="setSecondCommonGoalCompletedByActivePlayer(boolean)">
<h3>setSecondCommonGoalCompletedByActivePlayer</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">setSecondCommonGoalCompletedByActivePlayer</span><wbr><span class="parameters">(boolean&nbsp;secondCommonGoalCompletedByActivePlayer)</span></div>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
</div>
</div>
</body>
</html>
