<!DOCTYPE HTML>
<html lang="it">
<head>
<!-- Generated by javadoc (19) on Wed Jun 28 14:52:02 CEST 2023 -->
<title>ServerNetworkHandler</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="dc.created" content="2023-06-28">
<meta name="description" content="declaration: module: it.polimi.ingsw, package: it.polimi.ingsw.network, class: ServerNetworkHandler">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../script-dir/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../jquery-ui.overrides.css" title="Style">
<script type="text/javascript" src="../../../../../script.js"></script>
<script type="text/javascript" src="../../../../../script-dir/jquery-3.6.0.min.js"></script>
<script type="text/javascript" src="../../../../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var pathtoroot = "../../../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top"><button id="navbar-toggle-button" aria-controls="navbar-top" aria-expanded="false" aria-label="Toggle navigation links"><span class="nav-bar-toggle-icon">&nbsp;</span><span class="nav-bar-toggle-icon">&nbsp;</span><span class="nav-bar-toggle-icon">&nbsp;</span></button>
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../../../module-summary.html">Module</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../../help-doc.html#class">Help</a></li>
</ul>
<ul class="sub-nav-list-small">
<li>
<p>Summary:</p>
<ul>
<li>Nested</li>
<li><a href="#field-summary">Field</a></li>
<li><a href="#constructor-summary">Constr</a></li>
<li><a href="#method-summary">Method</a></li>
</ul>
</li>
<li>
<p>Detail:</p>
<ul>
<li><a href="#field-detail">Field</a></li>
<li><a href="#constructor-detail">Constr</a></li>
<li><a href="#method-detail">Method</a></li>
</ul>
</li>
</ul>
</div>
<div class="sub-nav">
<div id="navbar-sub-list">
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field-summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor-summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method-summary">Method</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li><a href="#field-detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor-detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method-detail">Method</a></li>
</ul>
</div>
<div class="nav-list-search"><a href="../../../../../search.html">SEARCH</a>
<input type="text" id="search-input" disabled placeholder="Search">
<input type="reset" id="reset-button" disabled value="reset">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="flex-content">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="sub-title"><span class="module-label-in-type">Module</span>&nbsp;<a href="../../../../module-summary.html">it.polimi.ingsw</a></div>
<div class="sub-title"><span class="package-label-in-type">Package</span>&nbsp;<a href="package-summary.html">it.polimi.ingsw.network</a></div>
<h1 title="Class ServerNetworkHandler" class="title">Class ServerNetworkHandler</h1>
</div>
<div class="inheritance" title="Inheritance Tree"><a href="https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">java.lang.Object</a>
<div class="inheritance">it.polimi.ingsw.network.ServerNetworkHandler</div>
</div>
<section class="class-description" id="class-description">
<hr>
<div class="type-signature"><span class="modifiers">public class </span><span class="element-name type-name-label">ServerNetworkHandler</span>
<span class="extends-implements">extends <a href="https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></span></div>
<div class="block">The network handler contains the instance of a socket server and of a rmi server:
 it has methods that regard the general client-server interaction, both towards the server and towards the client.
 It dispatches messages towards the game controller and reacts to unexpected situations (such as the disconnection
 of a client).</div>
<dl class="notes">
<dt>Author:</dt>
<dd>Luca Guffanti</dd>
</dl>
</section>
<section class="summary">
<ul class="summary-list">
<!-- =========== FIELD SUMMARY =========== -->
<li>
<section class="field-summary" id="field-summary">
<h2>Field Summary</h2>
<div class="caption"><span>Fields</span></div>
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Field</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color"><code>static final <a href="https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second even-row-color"><code><a href="#HOSTNAME" class="member-name-link">HOSTNAME</a></code></div>
<div class="col-last even-row-color">
<div class="block">The name of the server as seen in messages</div>
</div>
</div>
</section>
</li>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<li>
<section class="constructor-summary" id="constructor-summary">
<h2>Constructor Summary</h2>
<div class="caption"><span>Constructors</span></div>
<div class="summary-table two-column-summary">
<div class="table-header col-first">Constructor</div>
<div class="table-header col-last">Description</div>
<div class="col-constructor-name even-row-color"><code><a href="#%3Cinit%3E()" class="member-name-link">ServerNetworkHandler</a>()</code></div>
<div class="col-last even-row-color">
<div class="block">This constructor is used only for testing purposes: it allows the testing of the controller
 in an offline environment</div>
</div>
<div class="col-constructor-name odd-row-color"><code><a href="#%3Cinit%3E(it.polimi.ingsw.network.utils.ServerConfigurationData)" class="member-name-link">ServerNetworkHandler</a><wbr>(<a href="utils/ServerConfigurationData.html" title="class in it.polimi.ingsw.network.utils">ServerConfigurationData</a>&nbsp;data)</code></div>
<div class="col-last odd-row-color">
<div class="block">This constructor builds a network handler, that remains in a "dark and quiet" state.</div>
</div>
</div>
</section>
</li>
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method-summary">
<h2>Method Summary</h2>
<div id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="method-summary-table-tab0" role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table', 3)" class="active-table-tab">All Methods</button><button id="method-summary-table-tab2" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab2', 3)" class="table-tab">Instance Methods</button><button id="method-summary-table-tab4" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab4', 3)" class="table-tab">Concrete Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel">
<div class="summary-table three-column-summary" aria-labelledby="method-summary-table-tab0">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Method</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#activateHandler()" class="member-name-link">activateHandler</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">This method build and activates the RMI server and the Socket server,
 by calling their own constructors.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#broadcastToAll(it.polimi.ingsw.network.messages.Message)" class="member-name-link">broadcastToAll</a><wbr>(<a href="messages/Message.html" title="class in it.polimi.ingsw.network.messages">Message</a>&nbsp;message)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Broadcast a message to every logged-in user</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#broadcastToAllButSender(java.lang.String,it.polimi.ingsw.network.messages.Message)" class="member-name-link">broadcastToAllButSender</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;sender,
 <a href="messages/Message.html" title="class in it.polimi.ingsw.network.messages">Message</a>&nbsp;message)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Used to broadcast to everyone but who sent the message in the first place.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="messages/Message.html" title="class in it.polimi.ingsw.network.messages">Message</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getCurrentMessage()" class="member-name-link">getCurrentMessage</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/HashMap.html" title="class or interface in java.util" class="external-link">HashMap</a>&lt;<a href="https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>,<wbr><a href="ClientConnection.html" title="class in it.polimi.ingsw.network">ClientConnection</a>&gt;</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getNickToConnectionMap()" class="member-name-link">getNickToConnectionMap</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#onDisconnection(it.polimi.ingsw.network.ClientConnection)" class="member-name-link">onDisconnection</a><wbr>(<a href="ClientConnection.html" title="class in it.polimi.ingsw.network">ClientConnection</a>&nbsp;connection)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">This method manages the disconnection of a client.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="LoginResult.html" title="class in it.polimi.ingsw.network">LoginResult</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#onLoginRequest(java.lang.String,it.polimi.ingsw.network.ClientConnection)" class="member-name-link">onLoginRequest</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;name,
 <a href="ClientConnection.html" title="class in it.polimi.ingsw.network">ClientConnection</a>&nbsp;connection)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">This method manages the login of a new client.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#onMessageReceived(it.polimi.ingsw.network.messages.Message)" class="member-name-link">onMessageReceived</a><wbr>(<a href="messages/Message.html" title="class in it.polimi.ingsw.network.messages">Message</a>&nbsp;m)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">This method analyzes the contents of the received message and dispatches it towards the controller or back into
 the network handler.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#onNewLogin(java.lang.String)" class="member-name-link">onNewLogin</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;username)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">This method manages the login of a new player.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#sendToPlayer(java.lang.String,it.polimi.ingsw.network.messages.Message)" class="member-name-link">sendToPlayer</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;recipient,
 <a href="messages/Message.html" title="class in it.polimi.ingsw.network.messages">Message</a>&nbsp;message)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">This method send a message to a player, if the player is actually connected</div>
</div>
</div>
</div>
</div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-java.lang.Object">Methods inherited from class&nbsp;java.lang.<a href="https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></h3>
<code><a href="https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/lang/Object.html#clone()" title="class or interface in java.lang" class="external-link">clone</a>, <a href="https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/lang/Object.html#equals(java.lang.Object)" title="class or interface in java.lang" class="external-link">equals</a>, <a href="https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/lang/Object.html#finalize()" title="class or interface in java.lang" class="external-link">finalize</a>, <a href="https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/lang/Object.html#getClass()" title="class or interface in java.lang" class="external-link">getClass</a>, <a href="https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/lang/Object.html#hashCode()" title="class or interface in java.lang" class="external-link">hashCode</a>, <a href="https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/lang/Object.html#notify()" title="class or interface in java.lang" class="external-link">notify</a>, <a href="https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/lang/Object.html#notifyAll()" title="class or interface in java.lang" class="external-link">notifyAll</a>, <a href="https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/lang/Object.html#toString()" title="class or interface in java.lang" class="external-link">toString</a>, <a href="https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/lang/Object.html#wait()" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/lang/Object.html#wait(long)" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/lang/Object.html#wait(long,int)" title="class or interface in java.lang" class="external-link">wait</a></code></div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ============ FIELD DETAIL =========== -->
<li>
<section class="field-details" id="field-detail">
<h2>Field Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="HOSTNAME">
<h3>HOSTNAME</h3>
<div class="member-signature"><span class="modifiers">public static final</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">HOSTNAME</span></div>
<div class="block">The name of the server as seen in messages</div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="see-list">
<li><a href="../../../../../constant-values.html#it.polimi.ingsw.network.ServerNetworkHandler.HOSTNAME">Constant Field Values</a></li>
</ul>
</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<li>
<section class="constructor-details" id="constructor-detail">
<h2>Constructor Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="&lt;init&gt;()">
<h3>ServerNetworkHandler</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="element-name">ServerNetworkHandler</span>()</div>
<div class="block">This constructor is used only for testing purposes: it allows the testing of the controller
 in an offline environment</div>
</section>
</li>
<li>
<section class="detail" id="&lt;init&gt;(it.polimi.ingsw.network.utils.ServerConfigurationData)">
<h3>ServerNetworkHandler</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="element-name">ServerNetworkHandler</span><wbr><span class="parameters">(<a href="utils/ServerConfigurationData.html" title="class in it.polimi.ingsw.network.utils">ServerConfigurationData</a>&nbsp;data)</span></div>
<div class="block">This constructor builds a network handler, that remains in a "dark and quiet" state. To activate the network
 handler a call to <code>activateHandler</code> is needed. This method of constructing and then activating the handler
 permits the execution of operations before the handler is online.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>data</code> - server configuration data</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method-detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="activateHandler()">
<h3>activateHandler</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">activateHandler</span>()</div>
<div class="block">This method build and activates the RMI server and the Socket server,
 by calling their own constructors.</div>
</section>
</li>
<li>
<section class="detail" id="sendToPlayer(java.lang.String,it.polimi.ingsw.network.messages.Message)">
<h3>sendToPlayer</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">sendToPlayer</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;recipient,
 <a href="messages/Message.html" title="class in it.polimi.ingsw.network.messages">Message</a>&nbsp;message)</span></div>
<div class="block">This method send a message to a player, if the player is actually connected</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>recipient</code> - the player that will receive the message</dd>
<dd><code>message</code> - the message to be sent</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="broadcastToAllButSender(java.lang.String,it.polimi.ingsw.network.messages.Message)">
<h3>broadcastToAllButSender</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">broadcastToAllButSender</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;sender,
 <a href="messages/Message.html" title="class in it.polimi.ingsw.network.messages">Message</a>&nbsp;message)</span></div>
<div class="block">Used to broadcast to everyone but who sent the message in the first place.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>sender</code> - sender of the message</dd>
<dd><code>message</code> - the message to be broadcast</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="broadcastToAll(it.polimi.ingsw.network.messages.Message)">
<h3>broadcastToAll</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">broadcastToAll</span><wbr><span class="parameters">(<a href="messages/Message.html" title="class in it.polimi.ingsw.network.messages">Message</a>&nbsp;message)</span></div>
<div class="block">Broadcast a message to every logged-in user</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>message</code> - the message to be broadcast</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getCurrentMessage()">
<h3>getCurrentMessage</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="messages/Message.html" title="class in it.polimi.ingsw.network.messages">Message</a></span>&nbsp;<span class="element-name">getCurrentMessage</span>()</div>
</section>
</li>
<li>
<section class="detail" id="onLoginRequest(java.lang.String,it.polimi.ingsw.network.ClientConnection)">
<h3>onLoginRequest</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="LoginResult.html" title="class in it.polimi.ingsw.network">LoginResult</a></span>&nbsp;<span class="element-name">onLoginRequest</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;name,
 <a href="ClientConnection.html" title="class in it.polimi.ingsw.network">ClientConnection</a>&nbsp;connection)</span></div>
<div class="block">This method manages the login of a new client. The client can request a username
 which can either be
 <ol>
     <li>new: a client with the same name has never logged in</li>
     <li>known: a client with the same name has already logged in but has disconnected</li>
     <li>unavailable: a client with the same name has already logged and is still connected</li>
 </ol>
 In the cases of new or known user the system automatically admits the user. If the user is knows he's sent
 a message containing the current status of the game.
 If the nickname is unavailable the client is simply notified</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>name</code> - the name the new client requests</dd>
<dd><code>connection</code> - the connection with the client.</dd>
<dt>Returns:</dt>
<dd>the result of the login of type <a href="LoginResult.html" title="class in it.polimi.ingsw.network"><code>LoginResult</code></a></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="onDisconnection(it.polimi.ingsw.network.ClientConnection)">
<h3>onDisconnection</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">onDisconnection</span><wbr><span class="parameters">(<a href="ClientConnection.html" title="class in it.polimi.ingsw.network">ClientConnection</a>&nbsp;connection)</span></div>
<div class="block">This method manages the disconnection of a client.
 <ol>
     <li>If a client disconnects before the login nothing useful happens</li>
     <li>If a client disconnects before or during a game, every other client is notified and the process stops</li>
     <li>If a client disconnects after the game's ended there is no impact, and the server remains capable
     of distributing chat messages until there's at least one player. When all the players have disconnected,
     the server stops</li>
 </ol>
 Thanks to the save file system (<a href="../server/controller/save/SaveFileManager.html" title="class in it.polimi.ingsw.server.controller.save"><code>SaveFileManager</code></a>, <a href="../server/controller/save/SaveFileData.html" title="class in it.polimi.ingsw.server.controller.save"><code>SaveFileData</code></a>, <a href="../server/controller/GameController.html" title="class in it.polimi.ingsw.server.controller"><code>GameController</code></a>)
 the state of the game is safely stored on the disk so that the game can resume when the server is restarted and all
 the players have joined</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>connection</code> - the connection of the specific client that will be updated.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="onMessageReceived(it.polimi.ingsw.network.messages.Message)">
<h3>onMessageReceived</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">onMessageReceived</span><wbr><span class="parameters">(<a href="messages/Message.html" title="class in it.polimi.ingsw.network.messages">Message</a>&nbsp;m)</span></div>
<div class="block">This method analyzes the contents of the received message and dispatches it towards the controller or back into
 the network handler. It's important to notice that this method only refers to messages that can actually be received
 by the server</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>m</code> - the message that was received</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getNickToConnectionMap()">
<h3>getNickToConnectionMap</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/HashMap.html" title="class or interface in java.util" class="external-link">HashMap</a>&lt;<a href="https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>,<wbr><a href="ClientConnection.html" title="class in it.polimi.ingsw.network">ClientConnection</a>&gt;</span>&nbsp;<span class="element-name">getNickToConnectionMap</span>()</div>
</section>
</li>
<li>
<section class="detail" id="onNewLogin(java.lang.String)">
<h3>onNewLogin</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">onNewLogin</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;username)</span></div>
<div class="block">This method manages the login of a new player. The first logged-in player is prompted to
 choose the number of players in order to create the lobby. Other logged-in players are prompted to wait
 while the first player chooses the dimension of the lobby or are granted access to the lobby if everything
 is ready.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>username</code> - the username of the newly logged-in player</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
</div>
</div>
</body>
</html>
